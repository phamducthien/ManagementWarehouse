//------------------------------------------------------------------------------
// <auto-generated>
// Repository Generated
// </auto-generated>
//------------------------------------------------------------------------------
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;
using Repository.Pattern.DataContext;
using Repository.Pattern.Ef6;
using Repository.Pattern.Repositories;
using Repository.Pattern.UnitOfWork;
using Util.Pattern;
using WH.Entity;
using System;

namespace WH.Service.Repository
{
    public partial interface IKHACHHANGRepository : IRepositoryAsync<KHACHHANG>
    {
    	bool Exist(string id);
    	bool Exist(Expression<Func<KHACHHANG, bool>> predicate);
    	KHACHHANG getObject(string id);
    	KHACHHANG getObject(Expression<Func<KHACHHANG, bool>> predicate);
    	
    
    	KHACHHANG CreateNew();
    	KHACHHANG CloneNew(KHACHHANG objKHACHHANG);
    	KHACHHANG CloneUpdate(KHACHHANG objKHACHHANG);
    	KHACHHANG Clone(KHACHHANG objKHACHHANG);
    
    	List< KHACHHANG> Clone(IList<KHACHHANG> listKHACHHANGs);
    	string GetMaxCode();
    	List<KHACHHANG> Search(string textSearch);
    	List<KHACHHANG> Search(Expression<Func<KHACHHANG, bool>> predicate);
    	List<KHACHHANG> Search(Expression<Func<KHACHHANG, bool>> predicate,string textSearch);
    }
    
    public partial class KHACHHANGRepository : Repository<KHACHHANG>, IKHACHHANGRepository
    {
    	public string DefaultCode
        {
    		get { return null; }
        }
    
        public KHACHHANGRepository(IDataContextAsync context, IUnitOfWorkAsync unitOfWork) : base(context, unitOfWork)
        {
        }
    
        public KHACHHANGRepository(IUnitOfWorkAsync unitOfWork)
                : base(unitOfWork)
        {
        }
    
    	public bool Exist(string id)
        {
    		return QueryableList().Any(p => p.IDUnit == id);
        }
    
    	public bool Exist(Expression<Func<KHACHHANG, bool>> predicate)
    	{
    		return Queryable().Any(predicate);
    	}
    
    	public KHACHHANG CreateNew()
        {
    		
    		KHACHHANG _obj = Create();
    
    				//_obj.HOADONNHAPXUATs = null;//List
    		//_obj.HOADONNHAPXUATs = new List<HOADONNHAPXUAT>();//List
    					//_obj.HOADONXUATKHOes = null;//List
    		//_obj.HOADONXUATKHOes = new List<HOADONXUATKHO>();//List
    					//_obj.KHACHHANGKHUVUC = null;//object
    		_obj.MAKHUVUC =  null;////Nullable<int>
    									//_obj.LOAIKHACHHANG = null;//object
    		_obj.MALOAIKHACHHANG =  null;////Nullable<int>
    									//_obj.KHACHHANGNHOM = null;//object
    		_obj.MANHOM =  null;////Nullable<int>
    									//_obj.QUANLYTHETHEOKHACHHANGs = null;//List
    		//_obj.QUANLYTHETHEOKHACHHANGs = new List<QUANLYTHETHEOKHACHHANG>();//List
    					//_obj.KHACHHANGTHEODOIDOANHTHUs = null;//List
    		//_obj.KHACHHANGTHEODOIDOANHTHUs = new List<KHACHHANGTHEODOIDOANHTHU>();//List
    			            //Primary Key
    			_obj.MAKHACHHANG =  Guid.NewGuid();//System.Guid
    						
    									_obj.MABARCODE = string.Empty;//string
    					_obj.CODEKHACHHANG = string.Empty;//string
    					_obj.CMND = string.Empty;//string
    					_obj.TENKHACHHANG = string.Empty;//string
    					_obj.MASOTHUE = string.Empty;//string
    					_obj.NGUOIDAIDIEN = string.Empty;//string
    						_obj.NGAYSINH = null;//Nullable<System.DateTime>
    									_obj.GIOITINH = string.Empty;//string
    					_obj.CHUCVU = string.Empty;//string
    					_obj.DIACHI = string.Empty;//string
    					_obj.DIENTHOAI = string.Empty;//string
    					_obj.FAX = string.Empty;//string
    					_obj.DIDONG = string.Empty;//string
    					_obj.EMAIL = string.Empty;//string
    					_obj.GHICHU = string.Empty;//string
    					_obj.DIACHICONGTY = string.Empty;//string
    					_obj.TENTATKHACHHANG = string.Empty;//string
    					_obj.CONGTY = string.Empty;//string
    					_obj.DIACHIGIAOHOADON = string.Empty;//string
    					_obj.DIACHIGIAOHANG = string.Empty;//string
    					_obj.DIACHIGIAOHANG2 = string.Empty;//string
    						_obj.NGAYNOGANNHAT = null;//Nullable<System.DateTime>
    									_obj.ISUSE = null;//Nullable<bool>
    									_obj.ISDELETE = null;//Nullable<bool>
    										_obj.NGAYTAO = null;//Nullable<System.DateTime>
    									_obj.NGUOITAO = string.Empty;//string
    						_obj.NGAYCAPNHAT = null;//Nullable<System.DateTime>
    									_obj.NGUOICAPNHAT = string.Empty;//string
    			        return _obj;
        }
    
    	public KHACHHANG CloneNew(KHACHHANG objKHACHHANG)
    	{
    		if(objKHACHHANG==null) return null;
    			 KHACHHANG objNew = Find(objKHACHHANG.MAKHACHHANG);
    			if(objNew !=null) return null;
    
    		 objNew =  CreateNew();
    		 				objNew.MAKHACHHANG =  objKHACHHANG.MAKHACHHANG;
    								objNew.MABARCODE =  objKHACHHANG.MABARCODE;
    								objNew.HINHANH =  objKHACHHANG.HINHANH;
    								objNew.CODEKHACHHANG =  objKHACHHANG.CODEKHACHHANG;
    								objNew.CMND =  objKHACHHANG.CMND;
    								objNew.MAKHUVUC =  objKHACHHANG.MAKHUVUC;
    								objNew.MANHOM =  objKHACHHANG.MANHOM;
    								objNew.MALOAIKHACHHANG =  objKHACHHANG.MALOAIKHACHHANG;
    								objNew.TENKHACHHANG =  objKHACHHANG.TENKHACHHANG;
    								objNew.MASOTHUE =  objKHACHHANG.MASOTHUE;
    								objNew.NGUOIDAIDIEN =  objKHACHHANG.NGUOIDAIDIEN;
    								objNew.NGAYSINH =  objKHACHHANG.NGAYSINH;
    								objNew.GIOITINH =  objKHACHHANG.GIOITINH;
    								objNew.CHUCVU =  objKHACHHANG.CHUCVU;
    								objNew.DIACHI =  objKHACHHANG.DIACHI;
    								objNew.DIENTHOAI =  objKHACHHANG.DIENTHOAI;
    								objNew.FAX =  objKHACHHANG.FAX;
    								objNew.DIDONG =  objKHACHHANG.DIDONG;
    								objNew.EMAIL =  objKHACHHANG.EMAIL;
    								objNew.CHECKTPYE =  objKHACHHANG.CHECKTPYE;
    								objNew.GHICHU =  objKHACHHANG.GHICHU;
    								objNew.DIACHICONGTY =  objKHACHHANG.DIACHICONGTY;
    								objNew.TENTATKHACHHANG =  objKHACHHANG.TENTATKHACHHANG;
    								objNew.CONGTY =  objKHACHHANG.CONGTY;
    								objNew.DIACHIGIAOHOADON =  objKHACHHANG.DIACHIGIAOHOADON;
    								objNew.DIACHIGIAOHANG =  objKHACHHANG.DIACHIGIAOHANG;
    								objNew.DIACHIGIAOHANG2 =  objKHACHHANG.DIACHIGIAOHANG2;
    								objNew.TONGCONGNO =  objKHACHHANG.TONGCONGNO;
    								objNew.GIOIHANCONGNO =  objKHACHHANG.GIOIHANCONGNO;
    								objNew.GIOIHANSONGAYNO =  objKHACHHANG.GIOIHANSONGAYNO;
    								objNew.NGAYNOGANNHAT =  objKHACHHANG.NGAYNOGANNHAT;
    								objNew.CHIETKHAU =  objKHACHHANG.CHIETKHAU;
    								objNew.CHECKKHUYENMAI =  objKHACHHANG.CHECKKHUYENMAI;
    								objNew.ISUSE =  objKHACHHANG.ISUSE;
    								objNew.ISDELETE =  objKHACHHANG.ISDELETE;
    								objNew.NGAYTAO =  objKHACHHANG.NGAYTAO;
    								objNew.NGUOITAO =  objKHACHHANG.NGUOITAO;
    								objNew.NGAYCAPNHAT =  objKHACHHANG.NGAYCAPNHAT;
    								objNew.NGUOICAPNHAT =  objKHACHHANG.NGUOICAPNHAT;
    						  objNew.isAdd = true;
    		 return objNew;
    	}
    
    	public KHACHHANG CloneUpdate(KHACHHANG objKHACHHANG)
    	{
    		if(objKHACHHANG==null) return null;
    		 KHACHHANG objNew = Find(objKHACHHANG.MAKHACHHANG);
    		 if(objNew==null) return null;
    		 				objNew.MAKHACHHANG =  objKHACHHANG.MAKHACHHANG;
    								objNew.MABARCODE =  objKHACHHANG.MABARCODE;
    								objNew.HINHANH =  objKHACHHANG.HINHANH;
    								objNew.CODEKHACHHANG =  objKHACHHANG.CODEKHACHHANG;
    								objNew.CMND =  objKHACHHANG.CMND;
    								objNew.MAKHUVUC =  objKHACHHANG.MAKHUVUC;
    								objNew.MANHOM =  objKHACHHANG.MANHOM;
    								objNew.MALOAIKHACHHANG =  objKHACHHANG.MALOAIKHACHHANG;
    								objNew.TENKHACHHANG =  objKHACHHANG.TENKHACHHANG;
    								objNew.MASOTHUE =  objKHACHHANG.MASOTHUE;
    								objNew.NGUOIDAIDIEN =  objKHACHHANG.NGUOIDAIDIEN;
    								objNew.NGAYSINH =  objKHACHHANG.NGAYSINH;
    								objNew.GIOITINH =  objKHACHHANG.GIOITINH;
    								objNew.CHUCVU =  objKHACHHANG.CHUCVU;
    								objNew.DIACHI =  objKHACHHANG.DIACHI;
    								objNew.DIENTHOAI =  objKHACHHANG.DIENTHOAI;
    								objNew.FAX =  objKHACHHANG.FAX;
    								objNew.DIDONG =  objKHACHHANG.DIDONG;
    								objNew.EMAIL =  objKHACHHANG.EMAIL;
    								objNew.CHECKTPYE =  objKHACHHANG.CHECKTPYE;
    								objNew.GHICHU =  objKHACHHANG.GHICHU;
    								objNew.DIACHICONGTY =  objKHACHHANG.DIACHICONGTY;
    								objNew.TENTATKHACHHANG =  objKHACHHANG.TENTATKHACHHANG;
    								objNew.CONGTY =  objKHACHHANG.CONGTY;
    								objNew.DIACHIGIAOHOADON =  objKHACHHANG.DIACHIGIAOHOADON;
    								objNew.DIACHIGIAOHANG =  objKHACHHANG.DIACHIGIAOHANG;
    								objNew.DIACHIGIAOHANG2 =  objKHACHHANG.DIACHIGIAOHANG2;
    								objNew.TONGCONGNO =  objKHACHHANG.TONGCONGNO;
    								objNew.GIOIHANCONGNO =  objKHACHHANG.GIOIHANCONGNO;
    								objNew.GIOIHANSONGAYNO =  objKHACHHANG.GIOIHANSONGAYNO;
    								objNew.NGAYNOGANNHAT =  objKHACHHANG.NGAYNOGANNHAT;
    								objNew.CHIETKHAU =  objKHACHHANG.CHIETKHAU;
    								objNew.CHECKKHUYENMAI =  objKHACHHANG.CHECKKHUYENMAI;
    								objNew.ISUSE =  objKHACHHANG.ISUSE;
    								objNew.ISDELETE =  objKHACHHANG.ISDELETE;
    								objNew.NGAYTAO =  objKHACHHANG.NGAYTAO;
    								objNew.NGUOITAO =  objKHACHHANG.NGUOITAO;
    								objNew.NGAYCAPNHAT =  objKHACHHANG.NGAYCAPNHAT;
    								objNew.NGUOICAPNHAT =  objKHACHHANG.NGUOICAPNHAT;
    						 objNew.isUpdate = true;
    		 return objNew;
    	}
    	public KHACHHANG Clone(KHACHHANG objKHACHHANG)
    	{
    		if(objKHACHHANG==null) return null;
    		 KHACHHANG objNew = Find(objKHACHHANG.MAKHACHHANG);
    		 if(objNew==null) 
    		 {
    		 objNew =  CreateNew();
    		 				objNew.MAKHACHHANG =  objKHACHHANG.MAKHACHHANG;
    								objNew.MABARCODE =  objKHACHHANG.MABARCODE;
    								objNew.HINHANH =  objKHACHHANG.HINHANH;
    								objNew.CODEKHACHHANG =  objKHACHHANG.CODEKHACHHANG;
    								objNew.CMND =  objKHACHHANG.CMND;
    								objNew.MAKHUVUC =  objKHACHHANG.MAKHUVUC;
    								objNew.MANHOM =  objKHACHHANG.MANHOM;
    								objNew.MALOAIKHACHHANG =  objKHACHHANG.MALOAIKHACHHANG;
    								objNew.TENKHACHHANG =  objKHACHHANG.TENKHACHHANG;
    								objNew.MASOTHUE =  objKHACHHANG.MASOTHUE;
    								objNew.NGUOIDAIDIEN =  objKHACHHANG.NGUOIDAIDIEN;
    								objNew.NGAYSINH =  objKHACHHANG.NGAYSINH;
    								objNew.GIOITINH =  objKHACHHANG.GIOITINH;
    								objNew.CHUCVU =  objKHACHHANG.CHUCVU;
    								objNew.DIACHI =  objKHACHHANG.DIACHI;
    								objNew.DIENTHOAI =  objKHACHHANG.DIENTHOAI;
    								objNew.FAX =  objKHACHHANG.FAX;
    								objNew.DIDONG =  objKHACHHANG.DIDONG;
    								objNew.EMAIL =  objKHACHHANG.EMAIL;
    								objNew.CHECKTPYE =  objKHACHHANG.CHECKTPYE;
    								objNew.GHICHU =  objKHACHHANG.GHICHU;
    								objNew.DIACHICONGTY =  objKHACHHANG.DIACHICONGTY;
    								objNew.TENTATKHACHHANG =  objKHACHHANG.TENTATKHACHHANG;
    								objNew.CONGTY =  objKHACHHANG.CONGTY;
    								objNew.DIACHIGIAOHOADON =  objKHACHHANG.DIACHIGIAOHOADON;
    								objNew.DIACHIGIAOHANG =  objKHACHHANG.DIACHIGIAOHANG;
    								objNew.DIACHIGIAOHANG2 =  objKHACHHANG.DIACHIGIAOHANG2;
    								objNew.TONGCONGNO =  objKHACHHANG.TONGCONGNO;
    								objNew.GIOIHANCONGNO =  objKHACHHANG.GIOIHANCONGNO;
    								objNew.GIOIHANSONGAYNO =  objKHACHHANG.GIOIHANSONGAYNO;
    								objNew.NGAYNOGANNHAT =  objKHACHHANG.NGAYNOGANNHAT;
    								objNew.CHIETKHAU =  objKHACHHANG.CHIETKHAU;
    								objNew.CHECKKHUYENMAI =  objKHACHHANG.CHECKKHUYENMAI;
    								objNew.ISUSE =  objKHACHHANG.ISUSE;
    								objNew.ISDELETE =  objKHACHHANG.ISDELETE;
    								objNew.NGAYTAO =  objKHACHHANG.NGAYTAO;
    								objNew.NGUOITAO =  objKHACHHANG.NGUOITAO;
    								objNew.NGAYCAPNHAT =  objKHACHHANG.NGAYCAPNHAT;
    								objNew.NGUOICAPNHAT =  objKHACHHANG.NGUOICAPNHAT;
    						  objNew.isAdd = true;
    		 }
    		 else
    		 {
    		 				objNew.MABARCODE =  objKHACHHANG.MABARCODE;
    								objNew.HINHANH =  objKHACHHANG.HINHANH;
    								objNew.CODEKHACHHANG =  objKHACHHANG.CODEKHACHHANG;
    								objNew.CMND =  objKHACHHANG.CMND;
    								objNew.MAKHUVUC =  objKHACHHANG.MAKHUVUC;
    								objNew.MANHOM =  objKHACHHANG.MANHOM;
    								objNew.MALOAIKHACHHANG =  objKHACHHANG.MALOAIKHACHHANG;
    								objNew.TENKHACHHANG =  objKHACHHANG.TENKHACHHANG;
    								objNew.MASOTHUE =  objKHACHHANG.MASOTHUE;
    								objNew.NGUOIDAIDIEN =  objKHACHHANG.NGUOIDAIDIEN;
    								objNew.NGAYSINH =  objKHACHHANG.NGAYSINH;
    								objNew.GIOITINH =  objKHACHHANG.GIOITINH;
    								objNew.CHUCVU =  objKHACHHANG.CHUCVU;
    								objNew.DIACHI =  objKHACHHANG.DIACHI;
    								objNew.DIENTHOAI =  objKHACHHANG.DIENTHOAI;
    								objNew.FAX =  objKHACHHANG.FAX;
    								objNew.DIDONG =  objKHACHHANG.DIDONG;
    								objNew.EMAIL =  objKHACHHANG.EMAIL;
    								objNew.CHECKTPYE =  objKHACHHANG.CHECKTPYE;
    								objNew.GHICHU =  objKHACHHANG.GHICHU;
    								objNew.DIACHICONGTY =  objKHACHHANG.DIACHICONGTY;
    								objNew.TENTATKHACHHANG =  objKHACHHANG.TENTATKHACHHANG;
    								objNew.CONGTY =  objKHACHHANG.CONGTY;
    								objNew.DIACHIGIAOHOADON =  objKHACHHANG.DIACHIGIAOHOADON;
    								objNew.DIACHIGIAOHANG =  objKHACHHANG.DIACHIGIAOHANG;
    								objNew.DIACHIGIAOHANG2 =  objKHACHHANG.DIACHIGIAOHANG2;
    								objNew.TONGCONGNO =  objKHACHHANG.TONGCONGNO;
    								objNew.GIOIHANCONGNO =  objKHACHHANG.GIOIHANCONGNO;
    								objNew.GIOIHANSONGAYNO =  objKHACHHANG.GIOIHANSONGAYNO;
    								objNew.NGAYNOGANNHAT =  objKHACHHANG.NGAYNOGANNHAT;
    								objNew.CHIETKHAU =  objKHACHHANG.CHIETKHAU;
    								objNew.CHECKKHUYENMAI =  objKHACHHANG.CHECKKHUYENMAI;
    								objNew.ISUSE =  objKHACHHANG.ISUSE;
    								objNew.ISDELETE =  objKHACHHANG.ISDELETE;
    								objNew.NGAYTAO =  objKHACHHANG.NGAYTAO;
    								objNew.NGUOITAO =  objKHACHHANG.NGUOITAO;
    								objNew.NGAYCAPNHAT =  objKHACHHANG.NGAYCAPNHAT;
    								objNew.NGUOICAPNHAT =  objKHACHHANG.NGUOICAPNHAT;
    						 objNew.isUpdate = true;
    		  objNew.isLoaded = true;
    		 }
    		 return objNew;
    	}
    
    	public List< KHACHHANG> Clone(IList<KHACHHANG> listKHACHHANGs)
    	{
    		List< KHACHHANG> lst = new List< KHACHHANG>();
    		if(listKHACHHANGs == null) return lst;
    		foreach(var obj in  listKHACHHANGs)
    		{
    			 lst.Add(Clone(obj));
    		}
    		return lst;
    	}
    
    	public KHACHHANG getObject(string id)
    	{
    		return QueryableList().FirstOrDefault(p => p.IDUnit == id);
    	}
    
    	public KHACHHANG getObject(Expression<Func<KHACHHANG, bool>> predicate)
    	{
    		return  Queryable().FirstOrDefault(predicate);
    	}
    
    	 public string GetMaxCode()
         {
    		return QueryableList().Max(s=>s.IDUnit).ToString();
         }
    
    	 public List<KHACHHANG> Search(string textSearch)
    	 {
    		List<KHACHHANG> listIDUnit = QueryableList().Where(p=>p.IDUnit == textSearch).ToList();
    		if (listIDUnit.Count != 0)
    		{
        		return listIDUnit;
    		}
    		else
    		{
        		listIDUnit = QueryableList().Where(p => p.TextSearchCoDau.Contains(textSearch.Replace(" ", "").ToLower())).ToList();
        		return listIDUnit.Count == 0
        		? QueryableList().Where(p => p.TIMKIEM.Contains(textSearch.ToUnsign().Replace(" ", "").ToLower())).ToList()
        		: listIDUnit;
    		}
    	 }
    
    	public List<KHACHHANG> Search(Expression<Func<KHACHHANG, bool>> predicate)
    	{
    		return  Queryable().Where(predicate).ToList();
    	}
    
    	public List<KHACHHANG> Search(Expression<Func<KHACHHANG, bool>> predicate,string textSearch)
    	{
    			List<KHACHHANG> listIDUnit = Search(predicate).Where(p => p.IDUnit == textSearch).ToList();
                if (listIDUnit.Count != 0)
                {
                    return listIDUnit;
                }
                else
                {
                    listIDUnit = Search(predicate).Where(p => p.TextSearchCoDau.Contains(textSearch.Replace(" ", "").ToLower())).ToList();
                    return listIDUnit.Count == 0
                    ? Search(predicate).Where(p => p.TIMKIEM.Contains(textSearch.ToUnsign().Replace(" ", "").ToLower())).ToList()
                    : listIDUnit;
                }
    	}
    }
}
